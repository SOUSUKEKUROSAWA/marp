---
marp: true
theme: academic
---

<!-- headingDivider: 1 -->
<!-- size: 16:9 -->
<!-- paginate: true -->
<!-- math: katex -->

# :revolving_hearts: 尊敬に満ちたコードレビュー

黒澤颯介（Sosuke Kurosawa）

# はじめに

# :thinking: コードレビューって難しい

- :heart: 人間相手だから気づかいが必要
- :x: 甘々でもダメ
- :small_red_triangle: 現状，完全自動化はできない

> レビューまで完全自動化されちゃったら，いよいよエンジニアの仕事って，，

# :star: Respectful Code Reviews

<https://chromium.googlesource.com/chromium/src/+/HEAD/docs/cr_respect.md>

Chromium のレビュー担当者向けガイドライン

> Chromium: Google Chrome などを開発しているオープンソースプロジェクト

# レビュー前

# :clock10: 適度な時間内に返信する

- レビュー中は相手の開発をロックしてしまっている
- 24時間以内に返信できなければ、いつまでに返信できるかをコメントで残そう

> 何事も，ロックはなるべくはやく解放するに限るでしょ?

# レビューはじまり

# :innocent: 相手の能力と善意を前提とする

- 能力と善意のどちらかが欠けている人は採用ではじかれているはず
- ミスを発見したときは，相手の能力不足ではなく情報不足を疑おう

> 能力と善意を前提とできない人は，採用でちゃんと弾く．これも大事

# :computer: 人ではなく、コードについて議論する

- 相手は最善を尽くしているので，その人を叱ったところで良い変更は生まれない
- どう修正すると良さそうかを提案しよう

> 一緒に良いモノつくろう!

# :flashlight: ツールの使用を思いとどまらせない

- ツールの導入により開発効率が向上したのなら，まず感謝
- ツールの利用の是非や好みを押し付けないようにしよう

> 感謝は次のカイゼンへの原動力．

# レビュー中

# :information_desk_person: 理由を説明する

- 「私はこっちが良いと思います」→ なんで？ の 1 ラリーは無駄
- なぜ良いと思うのかを最初から説明しよう

> もし説明できなかったら，指摘するほどのことじゃないってこと．

# :ear: 理由を聞く

- 相手の意図がわからない時は、遠慮せず変更理由を聞く
- 変更の意図についてのやりとりが文書で残っていると，後から見る人も嬉しい

> 傍観者効果に負けないで!

# :speak_no_evil: どっちでもいいことについて議論しない

- よく知っていることには強い意見を持ちやすく、よく知らないことには無関心になりがち
- 重要だから反論したいのか，よく知ってるから反論したくなっているだけなのかを見極めよう

> パーキンソンの凡俗法則に負けないで!

# :speech_balloon: 直接話し合う

- 実際に話して意見を交換する方が効率的なこともある
- 話が噛み合わないと感じたら，アプローチを変えてみよう

> ホモ・サピエンスにテキストコミュニケーションはまだ早い．

# レビューおわり

# :thumbsup: 良い点について言及する

- 「全ての欠点を見つけてやるぞ」ではなく，「対応ありがとう」の気持ちで
- 褒めるってなんかエラそうだから，良い変更に対する感謝を伝えると捉えよう

> 感謝は次の良い変更への原動力

# :pushpin: 終わりを見つける

- 完璧で徹底したレビューは，お互いに疲れる
- 「絶対に間違いないと保証する」ではなく、「よさそうです（＝LGTM）」でレビューを適切に終える

> 勝兵ハ先ズ勝チテ而ル後ニ戦イヲ求ム

# さいごに

# :star: 相手へのリスペクトを忘れずに

- これらすべて，相手へのリスペクトがあれば自然にできること
- 自分の方がもっと良くできたとしても，一人で全ての仕事はできない
- まずは，「やってくれてありがとう」の気持ちから

## :white_check_mark: 尊敬に満ちたコードレビューを!
